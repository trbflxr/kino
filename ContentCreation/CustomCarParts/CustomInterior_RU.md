# Создание деталей интерьера

## Подготовка и создание пака

Если вы уже создали пак и хотите добавить в него детали, то этот шаг можно пропустить.

Не нужно создавать для каждой детали отдельный пак, группируйте их по типам, производителям и т.д.

Для создания пака воспользуйтесь [этим гайдом](CustomPartsPackCreation_RU.md).

## Импорт моделей в Unity

Для импорта моделей в Unity вы можете перетащить нужные файлы в окно `Project` или поместить их туда вручную, через проводник.

После импорта выберите нужную модель и в окне `Inspector` перейдите на вкладку `Materials`.

Если кнопки `Extract Textures` и `Extract Materials` серые и не кликабельные, то ничего делать не нужно.

Если же они активны, то сперва извлеките текстуры, а после материалы.

![parts_unity_import_model](../Images/CarParts/parts_unity_import_model.png)

Далее создайте префаб, для этого выполните следующие действия:

1. Создайте пустой объект на сцене
2. Сбросьте его `Transform`
3. Добавьте модель в только что созданный объект
4. Сохраните префаб и удалите его со сцены
5. Выберите префаб в окне `Project` и двойным кликом перейдите в режим редактирования

![parts_create_prefab_full](../Images/CarParts/parts_create_prefab_full.gif)

После можно приступать к созданию детали.

## Создание деталей салона

> [!NOTE]
> В Kino Content SDK есть примеры всех деталей в папке `Examples/InteriorParts`. Обязательно ознакомитесь с ними, для большего понимания процесса.

Доступные детали:

* [Рули](#создание-кастомных-рулей)
* [Ручники](#создание-кастомных-ручников)
* [Шифтеры](#создание-кастомных-шифтеров)
* [Сидения](#создание-кастомных-сидений)

### Создание кастомных рулей

Модель руля обязательно должна содержать следующие компоненты: `st_wheel_alcantar` и `st_wheel_parts`. Компонентов этих может быть неограниченное количество (в пределах разумного).

![parts_st_wheel_hierarchy](../Images/CarParts/parts_st_wheel_hierarchy.png)

При наличии компонентов `st_wheel_alcantar` и `st_wheel_parts` руль будет корректно воспринят игрой, его можно будет установить и покрасить.

Добавьте новый элемент в пак с типом `Steering Wheel`. Так же установите его размер в поле `Steering Wheel Size`.

> [!NOTE]
> Если вы создаёте руль в первый раз, то оставьте дефолтный размер. Размер нужно будет подобрать, установив руль в игре и включив камеру от первого лица. Если руки будут смещены, то подправьте размер руля и пересоберите пак.

![parts_st_wheel_pack_entry](../Images/CarParts/parts_st_wheel_pack_entry.png)

### Создание кастомных ручников

Кастомный ручник обязательно должен содержать следующие компоненты:

* `hbrakeA` - база ручника
* `hbrakeB` - рычаг
* `pivot` - точка крепления рычага к базе
* `target` - точка, за которую пилот будет хватать рычаг

> [!NOTE]
> Компонентов может быть и больше, приведенные выше - обязательные.

![parts_hbrake_hierarchy](../Images/CarParts/parts_hbrake_hierarchy.png)

> [!WARNING]
> Иерархия обязательно должна соответствовать скриншоту. Имена обязательных компонентов так же должны быть идентичными.

В случае если пилот неверно располагает руку на рычаге, вы можете повернуть `target` по нужной оси, что бы исправить это.

![parts_target_point_transform](../Images/CarParts/parts_target_point_transform.png)

Добавьте новый элемент в пак, выберите тип `Handbrake` и заполните поля.

![parts_hbrake_pack_entry](../Images/CarParts/parts_hbrake_pack_entry.png)

### Создание кастомных шифтеров

Кастомный шифтер обязательно должен содержать следующие компоненты:

* `shifterA` - база шифтера
* `shifterB` - рычаг
* `pivot` - точка крепления рычага к базе
* `target` - точка, за которую пилот будет хватать рычаг

> [!NOTE]
> Компонентов может быть и больше, приведенные выше - обязательные.

![parts_shifter_seq_hierarchy](../Images/CarParts/parts_shifter_seq_hierarchy.png)

> [!WARNING]
> Иерархия обязательно должна соответствовать скриншоту. Имена обязательных компонентов так же должны быть идентичными.

В случае если пилот неверно располагает руку на рычаге, вы можете повернуть `target` по нужной оси, что бы исправить это.

![parts_target_point_transform](../Images/CarParts/parts_target_point_transform.png)

Для добавления шифтера в пак вам нужно добавить новый элемент с типом `Shifter H Pattern` или `Shifter Sequential` и заполнить поля. От выбранного типа будет зависить анимация переключения передач.

![parts_shifter_pack_entry](../Images/CarParts/parts_shifter_pack_entry.png)

### Создание кастомных сидений

Кастомные сидения обязательно должны содержать следующие компоненты:

* `seat_alcantar1` - материал сидения №1
* `seat_alcantar2` - материал сидения №2
* `driver_root` - точка посадки пилота

> [!NOTE]
> Компонентов может быть и больше, приведенные выше - обязательные.

![parts_seat_hierarchy](../Images/CarParts/parts_seat_hierarchy.png)

> [!WARNING]
> Иерархия обязательно должна соответствовать скриншоту. Имена обязательных компонентов так же должны быть идентичными.

Для добавления сидения в пак вам нужно добавить новый элемент с типом `Seat Left` или `Seat Right` и заполнить поля.

![parts_seat_pack_entry](../Images/CarParts/parts_seat_pack_entry.png)